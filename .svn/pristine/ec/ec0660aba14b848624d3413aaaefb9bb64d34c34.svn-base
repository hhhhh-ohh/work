dataSources:
  ds_0:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    jdbcUrl: jdbc:mysql://172.16.50.131:3306/sbc-account?characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull&autoReconnect=true&failOverReadOnly=false&connectTimeout=0&serverTimezone=Asia/Shanghai&allowMultiQueries=true
    username: root
    password: Wmi@2025
  ds_1:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: com.mysql.cj.jdbc.Driver
    jdbcUrl: jdbc:mysql://172.16.50.131:3306/sbc-account?characterEncoding=UTF-8&zeroDateTimeBehavior=convertToNull&autoReconnect=true&failOverReadOnly=false&connectTimeout=0&serverTimezone=Asia/Shanghai&allowMultiQueries=true
    username: root
    password: Wmi@2025

rules:
- !TRANSACTION
  defaultType: BASE
  providerType: Seata
- !READWRITE_SPLITTING
    dataSources:
      readwrite_ds:
        writeDataSourceName: ds_0
        readDataSourceNames:
          - ds_1
        transactionalReadQueryStrategy: PRIMARY
        loadBalancerName: round_robin
    loadBalancers:
      round_robin:
        type: ROUND_ROBIN
#- !SHARDING
#    tables:
#      t_order:
#        actualDataNodes: ds_$->{0..1}.t_order_$->{0..1}
#        tableStrategy:
#          standard:
#            shardingColumn: count
#            shardingAlgorithmName: t_order_inline
#    defaultDatabaseStrategy:
#      standard:
#        shardingColumn: id
#        shardingAlgorithmName: database_inline
#  shardingAlgorithms:
#    database_inline:
#      type: INLINE
#      props:
#        algorithm-expression: ds_$->{company_id % 2}
#    id_inline:
#      type: INLINE
#      props:
#        algorithm-expression: ds_$->{id % 2}
- !SINGLE
  tables:
    - "*.*"
  defaultDataSource: ds_0
props:
  sql-show: true