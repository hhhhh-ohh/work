1、vas服务引入mybatis，Kafka组件,去除sharding；
vas版本单独做了维护：<wm.micro.service.vas.version>4.1.7-RELEASE</wm.micro.service.vas.version>
2、vas配置文件application.properties修改增加配置项：
spring.kafka.bootstrap-servers=172.19.25.94:9092
spring.kafka.producer.retries=0
# 每次批量发送消息的数量
spring.kafka.producer.batch-size=16384
spring.kafka.producer.buffer-memory=33554432
# 指定消息key和消息体的编解码方式
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer

# ----------------------------------------
# mybatis config
# ----------------------------------------
mybatis.mapper-locations=classpath*:META-INF/mybatis/mapper/*Mapper.xml
#mysql对应的schema，设定全局变量，mybatis xml 文件直接通过${aresDb}获取
mybatis.configuration.variables.aresDB=`s2b_statistics`.
mybatis.configuration.variables.vasDB = `sbc-vas`.

#pagehelper
pagehelper.helperDialect=mysql
pagehelper.reasonable=true
pagehelper.supportMethodsArguments=true
pagehelper.params=count=countSql

3、dw服务配置文件application.properties修改增加配置项：
#vas数据源
spring.datasource3.vas.jdbc-url=jdbc:mysql://${wm.mysql.db.master.url}:3306/sbc-vas?characterEncoding=UTF-8&&zeroDateTimeBehavior=convertToNull&autoReconnect=true&failOverReadOnly=false&connectTimeout=0
spring.datasource3.vas.password=${wm.mysql.db.master.password}
spring.datasource3.vas.username=${wm.mysql.db.master.username}
spring.datasource3.vas.driver-class-name=com.mysql.cj.jdbc.Driver
#dw数据源
spring.datasource4.dw.jdbc-url=jdbc:mysql://${wm.mysql.db.master.url}:3306/sbc-dw?characterEncoding=UTF-8&&zeroDateTimeBehavior=convertToNull&autoReconnect=true&failOverReadOnly=false&connectTimeout=0
spring.datasource4.dw.password=${wm.mysql.db.master.password}
spring.datasource4.dw.username=${wm.mysql.db.master.username}
spring.datasource4.dw.driver-class-name=com.mysql.cj.jdbc.Driver

4、如果未购买智能推荐增值服务，不需要执行"智能推荐服务购买标示.sql"

5、dw大数据phoniex_table.sql（如未购买智能推荐忽略）；

6、dbreplay配置文件application.properties修改配置项
topics.canal项最后增加sbc-goods.goods
